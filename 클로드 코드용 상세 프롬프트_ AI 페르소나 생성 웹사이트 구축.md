
## 클로드 코드용 상세 프롬프트: AI 페르소나 생성 웹사이트 구축

이 문서는 Anthropic의 Claude Code를 사용하여 AI 페르소나 생성 웹사이트를 구축하기 위한 상세한 지침과 프롬프트를 제공합니다. 비개발자 사용자가 이 문서만으로도 웹사이트를 성공적으로 만들 수 있도록, 각 섹션은 명확하고 구체적인 지시사항을 포함합니다.

### 1. 프로젝트 개요 및 목표

**프로젝트명:** AI 페르소나 생성기 (AI Persona Generator)

**목표:** 사용자가 입력한 스타일과 정보를 기반으로 AI 페르소나의 상세 프로필 텍스트를 생성하고, 해당 프로필에 맞는 AI 이미지를 생성하여 웹사이트에 시각적으로 표시하는 웹 애플리케이션을 구축합니다. 이 웹사이트는 최신 AI 기술(OpenAI API, Fal.ai API)을 활용하며, 현대적이고 직관적인 UI/UX를 제공합니다.

**핵심 기능:**
1.  **페르소나 스타일 입력:** 사용자가 원하는 페르소나의 유형(인플루언서, 배우, 가수 등)과 전반적인 스타일(도회적, 발랄함 등)을 입력할 수 있는 직관적인 웹 인터페이스 제공.
2.  **AI 프로필 텍스트 생성:** OpenAI API를 사용하여 입력된 정보를 바탕으로 상세하고 유행에 맞는 AI 페르소나 프로필 텍스트 생성.
3.  **AI 이미지 생성:** Fal.ai API (Flux 1.1 Pro 모델)를 사용하여 생성된 프로필 텍스트와 사용자 입력에 기반한 AI 페르소나 이미지 생성.
4.  **결과 표시:** 생성된 프로필 텍스트와 이미지를 웹사이트에 깔끔하게 표시.
5.  **반응형 디자인:** 데스크톱 및 모바일 환경에서 모두 최적화된 사용자 경험 제공.

### 2. 웹사이트 구조 및 기술 스택

**기술 스택:**
*   **프론트엔드:** HTML5, CSS3 (Flexbox/Grid 기반 반응형), JavaScript (바닐라 JS 또는 경량 프레임워크)
*   **백엔드:** Python (Flask 또는 FastAPI) 또는 Node.js (Express) - API 연동 및 서버 로직 처리
*   **AI API:** OpenAI API (텍스트 생성), Fal.ai API (이미지 생성)
*   **배포:** 클로드 코드가 지원하는 간편 배포 방식 (예: 정적 웹사이트 호스팅, 서버리스 함수)

**웹사이트 페이지 구조:**
*   **`index.html` (메인 페이지):**
    *   헤더: 로고, 웹사이트 제목
    *   메인 콘텐츠 영역:
        *   **페르소나 입력 폼:** 사용자가 페르소나 유형, 스타일, 기타 상세 정보를 입력하는 섹션.
        *   **생성 결과 표시 영역:** 생성된 페르소나 프로필 텍스트와 이미지가 표시되는 섹션.
    *   푸터: 저작권 정보 등
*   **`style.css`:** 웹사이트의 전반적인 디자인 및 레이아웃 스타일 정의.
*   **`script.js`:** 사용자 인터랙션 및 API 호출 로직 처리.
*   **`server.py` (또는 `app.js`):** 백엔드 API 엔드포인트 정의 및 OpenAI/Fal.ai API 연동 로직 구현.

### 3. 디자인 가이드라인 (참고 이미지: `0_Bk0rg7raccWKCFTN.jpg`)

제공된 이미지를 기반으로 다음과 같은 디자인 원칙을 따릅니다.

*   **전반적인 테마:** 다크 테마 (Dark Theme) 기반. 배경은 어둡고 깊이 있는 색상.
*   **글래스모피즘/프로스티드 글래스 효과:** 주요 UI 요소(입력 폼, 결과 카드 등)에 반투명하고 흐릿한 배경 효과 적용. 이를 통해 고급스럽고 미래지향적인 느낌을 강조.
*   **색상 팔레트:**
    *   **주요 배경:** `#1A1A2E` (어두운 남색 계열) 또는 유사한 깊이 있는 어두운 색상.
    *   **UI 요소 배경:** `rgba(255, 255, 255, 0.05)` 또는 `rgba(0, 0, 0, 0.3)`와 같은 반투명한 어두운 색상.
    *   **강조 색상:** 보라색, 분홍색, 주황색이 혼합된 그라데이션 (예: `linear-gradient(to right, #8A2BE2, #FF1493, #FFA500)`). 버튼, 활성화된 요소, 로딩 인디케이터 등에 사용.
    *   **텍스트 색상:** `#E0E0E0` (밝은 회색) 또는 `#FFFFFF` (흰색)으로 가독성 확보.
*   **모서리:** 모든 UI 요소에 `border-radius: 10px` ~ `20px` 정도의 둥근 모서리 적용.
*   **그림자:** 요소 아래에 은은한 `box-shadow`를 적용하여 입체감 부여.
*   **폰트:** 산세리프 계열의 모던한 폰트 (예: 'Pretendard', 'Noto Sans KR', 'Inter' 등) 사용.
*   **아이콘:** 간결하고 직관적인 아이콘 사용 (예: Font Awesome 또는 Material Icons).

### 4. 상세 프롬프트 (클로드 코드용)

다음은 클로드 코드에 제공할 상세 프롬프트입니다. 각 섹션별로 필요한 코드와 로직을 생성하도록 지시합니다.

#### 4.1. 프로젝트 초기 설정 및 파일 구조

**프롬프트:**
"AI 페르소나 생성 웹사이트 프로젝트를 위한 기본 파일 구조를 설정해줘. 다음 파일들을 포함해야 해:
- `index.html`
- `style.css`
- `script.js`
- `server.py` (Flask 기반 백엔드)

각 파일의 초기 내용은 비워두거나 최소한의 기본 구조만 포함하도록 해. `server.py`는 Flask 앱의 기본 설정과 `/generate_persona` 엔드포인트의 스켈레톤만 포함해줘."

#### 4.2. `index.html` (메인 페이지) 구성

**프롬프트:**
"`index.html` 파일을 다음 요구사항에 맞춰 작성해줘:

1.  **기본 HTML 구조:** `<!DOCTYPE html>`, `<html>`, `<head>`, `<body>` 태그를 포함한 표준 HTML5 구조.
2.  **메타 태그:** `charset`, `viewport` 설정 (반응형 디자인을 위해 `width=device-width, initial-scale=1.0`).
3.  **CSS 및 JavaScript 연결:** `<head>` 태그 내에 `style.css` 파일을 연결하고, `<body>` 닫는 태그 바로 위에 `script.js` 파일을 연결해줘.
4.  **헤더 (`<header>`):**
    *   웹사이트 로고 (텍스트 또는 간단한 SVG 아이콘)와 제목 (`AI Persona Generator`).
    *   다크 테마에 어울리는 스타일.
5.  **메인 콘텐츠 영역 (`<main>`):**
    *   **페르소나 입력 폼 섹션 (`<section id='input-form'>`):**
        *   제목: `AI 페르소나 생성하기`
        *   **입력 필드:**
            *   **페르소나 유형 (`persona_type`):** 드롭다운 메뉴 (`<select>`)로 제공. 옵션: `AI 인플루언서`, `AI 배우`, `AI 가수`, `AI 모델`, `AI 버튜버`, `기타`.
            *   **원하는 스타일 (`desired_style`):** 텍스트 입력 필드 (`<input type='text'>`). 플레이스홀더: `예: 도회적이고 세련된, 한예슬 초창기 느낌`.
            *   **핵심 특성 (`key_traits`):** 텍스트 입력 필드 (`<input type='text'>`). 플레이스홀더: `예: 겉은 도도하지만 속은 따뜻한 INFJ`.
            *   **배경 스토리 요소 (`background_story_elements`):** 텍스트 입력 필드 (`<input type='text'>`). 플레이스홀더: `예: 패션 디자이너 부모를 둔 외동딸, 청소년기 외모 콤플렉스 경험`.
            *   **시각적 선호도 (`visual_preferences`):** 텍스트 입력 필드 (`<input type='text'>`). 플레이스홀더: `예: 172cm 슬림 글래머, 고양이형 눈매, 루비 레드 립스틱`.
            *   **상세도 수준 (`output_detail_level`):** 라디오 버튼 (`<input type='radio'>`)으로 제공. 옵션: `간략`, `표준`, `상세`. 기본값은 `표준`으로 선택.
        *   **생성 버튼:** `페르소나 생성` 텍스트를 가진 버튼 (`<button>`). 클릭 시 `script.js`의 함수를 호출하도록 `id` 부여.
        *   **로딩 인디케이터:** 생성 중임을 나타내는 간단한 스피너 또는 텍스트 (`<div id='loading-indicator'>`). 초기에는 숨김 처리.
    *   **생성 결과 표시 영역 (`<section id='output-results'>`):**
        *   제목: `생성된 AI 페르소나` (초기에는 숨김 처리)
        *   **페르소나 이미지 표시 영역 (`<div id='persona-image-container'>`):** `<img>` 태그를 포함. 초기에는 비워둠.
        *   **페르소나 프로필 텍스트 표시 영역 (`<div id='persona-profile-text'>`):** 생성된 마크다운 텍스트를 렌더링할 영역. 초기에는 비워둠.

6.  **푸터 (`<footer>`):** 간단한 저작권 정보 (예: `© 2025 AI Persona Generator`).

모든 입력 필드와 버튼에는 적절한 `id`를 부여하여 JavaScript에서 쉽게 접근할 수 있도록 해줘. 각 섹션은 디자인 가이드라인을 고려하여 시각적으로 구분되도록 해줘."

#### 4.3. `style.css` (디자인 및 레이아웃) 구성

**프롬프트:**
"`style.css` 파일을 다음 디자인 가이드라인에 맞춰 작성해줘:

1.  **전역 스타일:**
    *   `body`에 다크 테마 배경 색상, 폰트 패밀리, 기본 텍스트 색상 적용.
    *   `margin: 0; padding: 0; box-sizing: border-box;` 초기화.
2.  **헤더 스타일:**
    *   배경색, 패딩, 텍스트 정렬, 폰트 크기 등.
3.  **메인 콘텐츠 영역 스타일:**
    *   `display: flex; flex-direction: column; align-items: center;`를 사용하여 중앙 정렬 및 세로 배치.
    *   최대 너비 설정 및 좌우 여백 자동 조정.
4.  **섹션 스타일 (`#input-form`, `#output-results`):**
    *   `background-color`에 반투명 효과 적용 (글래스모피즘).
    *   `backdrop-filter: blur(10px);` 적용 (글래스모피즘 효과).
    *   `border-radius` 적용.
    *   `padding`, `margin`, `box-shadow` 적용.
5.  **입력 필드 (`<input>`, `<select>`, `<textarea>`):**
    *   배경색, 텍스트 색상, 테두리, `border-radius` 적용.
    *   `focus` 시 강조 색상 테두리 효과.
6.  **버튼 스타일:**
    *   강조 색상 그라데이션 배경 적용.
    *   `border-radius`, `padding`, `color`, `font-weight` 적용.
    *   `cursor: pointer;` 및 `transition` 효과 추가.
    *   `hover` 시 미묘한 애니메이션 효과 (예: `transform: translateY(-2px);`).
7.  **로딩 인디케이터 스타일:**
    *   간단한 스피너 애니메이션 또는 텍스트 스타일.
8.  **이미지 표시 영역 (`#persona-image-container`):**
    *   이미지가 중앙에 오도록 `display: flex; justify-content: center; align-items: center;` 적용.
    *   `max-width`, `height`, `border-radius`, `box-shadow` 등 이미지 컨테이너 스타일.
9.  **프로필 텍스트 표시 영역 (`#persona-profile-text`):**
    *   텍스트 가독성을 위한 `line-height`, `font-size` 조정.
    *   마크다운 렌더링을 고려한 기본 스타일 (예: `h1`, `h2`, `p`, `ul`, `li` 등).
10. **반응형 디자인:** 미디어 쿼리 (`@media screen and (max-width: 768px)`)를 사용하여 모바일 환경에 최적화된 레이아웃 조정.

디자인 가이드라인을 철저히 준수하여 시각적으로 매력적인 웹사이트를 만들어줘."

#### 4.4. `script.js` (클라이언트 측 로직) 구성

**프롬프트:**
"`script.js` 파일을 다음 요구사항에 맞춰 작성해줘:

1.  **DOM 요소 참조:** 필요한 모든 입력 필드, 버튼, 로딩 인디케이터, 결과 표시 영역의 DOM 요소를 `document.getElementById()`를 사용하여 참조.
2.  **이벤트 리스너:** `페르소나 생성` 버튼에 `click` 이벤트 리스너를 추가.
3.  **`generatePersona()` 비동기 함수:**
    *   버튼 클릭 시 호출될 함수.
    *   **입력 값 수집:** 각 입력 필드에서 현재 값을 수집.
    *   **로딩 상태 관리:** `loading-indicator`를 표시하고, 버튼을 비활성화하여 중복 클릭 방지.
    *   **API 호출:** 백엔드 (`/generate_persona` 엔드포인트)로 `fetch` API를 사용하여 `POST` 요청을 보냄. 수집된 입력 값들을 JSON 형식으로 전송.
    *   **응답 처리:**
        *   성공적인 응답 시, 백엔드에서 받은 JSON 데이터(페르소나 프로필 텍스트, 이미지 URL)를 파싱.
        *   페르소나 프로필 텍스트는 마크다운 형식으로 올 것이므로, 이를 HTML로 변환하여 `#persona-profile-text`에 표시. (간단한 마크다운 파서 라이브러리 사용 또는 직접 구현 고려. 예를 들어, `marked.js` 같은 라이브러리 사용을 제안할 수 있음).
        *   이미지 URL을 `#persona-image-container` 내의 `<img>` 태그의 `src` 속성에 할당.
        *   `#output-results` 섹션을 보이도록 설정.
    *   **에러 처리:** API 호출 실패 시 사용자에게 에러 메시지 표시 (예: `alert()` 또는 화면에 메시지 표시).
    *   **로딩 상태 해제:** `loading-indicator`를 숨기고, 버튼을 다시 활성화.

4.  **마크다운 렌더링:** `marked.js`와 같은 라이브러리를 사용하여 마크다운 텍스트를 HTML로 변환하는 로직을 포함해줘. (CDN 링크를 `index.html`에 추가하는 것도 고려).

5.  **초기 상태 설정:** 페이지 로드 시 `output-results` 섹션과 `loading-indicator`는 숨겨진 상태로 시작하도록 해줘."

#### 4.5. `server.py` (백엔드 로직 - Flask 예시) 구성

**프롬프트:**
"`server.py` 파일을 Flask 기반으로 다음 요구사항에 맞춰 작성해줘:

1.  **Flask 앱 초기화:** 필요한 라이브러리 (`Flask`, `request`, `jsonify`, `os`, `requests`) 임포트 및 Flask 앱 초기화.
2.  **CORS 설정:** 프론트엔드와 백엔드 간의 통신을 위해 CORS를 허용하도록 설정 (`flask_cors` 라이브러리 사용).
3.  **환경 변수:** OpenAI API 키와 Fal.ai API 키를 환경 변수에서 로드하도록 설정 (`os.environ.get()`).
4.  **`/generate_persona` 엔드포인트 (`POST` 요청):**
    *   클라이언트로부터 JSON 데이터를 받음 (페르소나 유형, 스타일 등).
    *   **OpenAI API 호출:**
        *   클라이언트로부터 받은 입력 값과 `system_prompt_optimization.md`에 정의된 개선된 시스템 프롬프트(JSON 형식)를 조합하여 OpenAI API에 요청을 보냄.
        *   `BellaLeePersona.txt`의 내용을 참고 자료로 함께 제공하여 상세하고 유행에 맞는 프로필 생성을 유도.
        *   OpenAI API 응답에서 페르소나 프로필 텍스트와 이미지 생성 프롬프트(Fal.ai용)를 추출.
    *   **Fal.ai API 호출:**
        *   OpenAI API에서 받은 이미지 생성 프롬프트를 사용하여 Fal.ai API (Flux 1.1 Pro 모델)에 이미지 생성 요청을 보냄.
        *   Fal.ai API 응답에서 생성된 이미지의 URL을 추출.
    *   **응답 반환:** 생성된 페르소나 프로필 텍스트와 이미지 URL을 JSON 형식으로 클라이언트에 반환.
    *   **에러 처리:** API 호출 실패 시 적절한 에러 메시지와 상태 코드를 반환.

5.  **앱 실행:** 개발 서버에서 앱을 실행할 수 있도록 `if __name__ == '__main__':` 블록 추가.

**참고:** `system_prompt_optimization.md`에 있는 개선된 시스템 프롬프트 JSON 내용을 `server.py` 내부에 문자열 형태로 포함하거나, 별도의 파일로 로드하는 방식을 고려해줘. `BellaLeePersona.txt` 내용도 마찬가지야."

### 5. 배포 가이드라인

**프롬프트:**
"AI 페르소나 생성 웹사이트를 배포하기 위한 가이드라인을 작성해줘. 클로드 코드를 통해 생성된 파일을 기준으로, 비개발자도 쉽게 따라 할 수 있도록 단계별로 설명해줘. 가능한 배포 옵션(예: 정적 웹사이트 호스팅, 서버리스 배포)을 제시하고, 각 옵션의 장단점을 간략하게 설명해줘."

### 6. 추가 고려사항 및 유의사항

*   **API 키 보안:** OpenAI 및 Fal.ai API 키는 절대 클라이언트 측 코드에 직접 노출되어서는 안 됩니다. 반드시 백엔드 서버에서 환경 변수를 통해 관리해야 합니다.
*   **비용 관리:** AI API 사용에는 비용이 발생하므로, 개발 및 테스트 단계에서 사용량을 모니터링하고 불필요한 호출을 줄이는 방안을 고려해야 합니다.
*   **사용자 피드백:** 생성된 페르소나 프로필과 이미지가 사용자의 기대에 미치지 못할 경우를 대비하여, 피드백을 받을 수 있는 채널을 마련하거나 재시도 기능을 제공하는 것을 고려할 수 있습니다.
*   **유행성 반영:** `desired_style` 입력 필드를 통해 사용자가 최신 트렌드를 반영할 수 있도록 유도하고, OpenAI 모델이 이를 잘 해석하도록 프롬프트 엔지니어링을 지속적으로 개선해야 합니다.

이 상세 프롬프트는 클로드 코드가 AI 페르소나 생성 웹사이트를 구축하는 데 필요한 모든 정보를 제공합니다. 각 섹션의 지시사항을 따르고, 필요한 경우 추가적인 질문을 통해 명확성을 확보하세요.

---

